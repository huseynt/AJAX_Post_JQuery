import * as yaml from "js-yaml";
var moduleNames = [];
var ConfigLoader = /** @class */ (function () {
    function ConfigLoader() {
    }
    ConfigLoader.load = function () {
        var os = require('os');
        var fs = require('fs');
        var home = os.homedir();
        var apbrConfigFile = home + '/.apbr/config';
        var configData = fs.readFileSync(apbrConfigFile, 'utf8');
        return yaml.load(configData);
    };
    ConfigLoader.loadServerConfig = function (serverName) {
        var config = ConfigLoader.load();
        if (!serverName) {
            serverName = config.defaultServer;
        }
        var serverConfig = config.servers.find(function (item) { return item.name == serverName; });
        if (!serverConfig) {
            throw new Error("Server not found: " + serverName);
        }
        return serverConfig;
    };
    return ConfigLoader;
}());
export { ConfigLoader };
